<section class="h-custom" style="background-color: #F0E68C;">
  <div class="container py-5">
    <div class="row d-flex justify-content-center align-items-center">
      <div class="card shopping-cart" style="border-radius: 15px; width: 100%;">
        <div class="card-body text-black" style="width: 100%; min-height: 600px">
          <div class="row">
            <div class="col-lg-8 px-5 py-4">
              <h3 class="text-center fw-bold text-uppercase" style="margin-top: 2px; padding-bottom: 5px">Chuyến đi</h3>
              <div style="overflow: auto; height: 450px">
                <div class="col-md-12" *ngIf="bookings.length == 0">
                  <div class="card">
                    <div class="card-header">
                    </div>
                    <div class="card-body cart">
                      <div class="col-sm-12 empty-cart-cls text-center">
                        <img src="https://i.imgur.com/dCdflKN.png" width="130" height="130" class="img-fluid mb-4 mr-3">
                        <h3><strong>Giỏ hàng của bạn đang trống</strong></h3>
                        <a routerLink="/" class="btn btn-primary cart-btn-transform m-3" data-abc="true">Tìm kiếm tour
                          mới</a>
                      </div>
                    </div>
                  </div>
                </div>
                <div style="display: flex;border: 2px solid #005ec4; padding: 10px;margin-bottom: 10px"
                     *ngFor="let booking of bookings;index as i">
                  <div class="flex-shrink-0">
                    <img src="{{booking.tours.img}}"
                         class="img-fluid" style="width: 170px;height: 180px" alt="Generic placeholder image">
                  </div>
                  <div class="flex-grow-1" style="padding-left: 10px; font-size: 18px">
                    <h4 class="text-primary">{{booking.tours.schedule | slice: 0 : 60}}<span
                      *ngIf="booking.tours.schedule.length > 60">...</span>
                    </h4>
                    <ul style="padding-left: 0">
                      <li style="list-style: none">Địa điểm: <span
                        class="text-primary">{{booking.tours.location.name}}</span>
                      </li>
                      <li style="list-style: none">Ngày bắt đầu: <span
                        class="text-primary">{{booking.tours.startDate}}</span>
                      </li>
                      <li style="list-style: none">Ngày kết thúc: <span
                        class="text-primary">{{booking.tours.endDate}}</span>
                      </li>
                      <li style="list-style: none">Số chỗ còn lại: <span
                        class="text-primary">{{booking.tours.remaining}}</span>
                      </li>
                      <li>
                        <div class="d-flex">
                          <button class="btn btn-link px-2" style="background-color: #FF9933"
                                  (click)="changeQuantity(slot.value,i)"
                                  onclick="this.parentNode.querySelector('input[type=number]').stepDown()">
                            <i class="fas fa-minus" style="color: white"></i>
                          </button>
                          <label>
                            <input min="0" style="width: 50px; height: 30px;text-align: center" name="quantity"
                                   [value]="booking.slot" #slot (change)="changeQuantity(slot.value,i)"
                                   type="number"
                                   class="form-control form-control-sm"/>
                          </label>
                          <button class="btn btn-link px-2" style="background-color: #FF9933"
                                  (click)="changeQuantity(slot.value,i)"
                                  onclick="this.parentNode.querySelector('input[type=number]').stepUp()">
                            <i class="fas fa-plus" style="color: white"></i>
                          </button>
                          <button style="margin-left: 10px" class="btn btn-danger" type="button"
                                  (click)="deleteTour(booking.id)">Hủy bỏ
                          </button>
                        </div>
                      </li>
                      <li>
                      <li style="list-style: none">Tổng tiền: <span
                        class="text-primary">{{booking.tours.price * booking.slot | number}}<sup>đ</sup></span>
                      </li>
                    </ul>

                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 px-5 py-4">
              <h3 class="text-center fw-bold text-uppercase" style="margin-top: 2px; padding-bottom: 5px">Thanh
                toán</h3>
              <article class="card">
                <div class="" style="background-color: #e1f5fe; padding: 5px">
                  <h3 class="fw-bold mb-0" style="justify-content: space-between">Tổng tiền: <span
                    class="text-danger">{{total | number}}
                    <sup>đ</sup></span>
                  </h3>
                </div>
                <div class="card-body">
                  <div class="d-flex gap-2 mb-2">
                    <button style="height: 30px; font-size: 14px; margin-right: 5px" class="btn w-100 btn-success"
                            *ngIf="!checkShow"
                            (click)="showRender()"
                            type="button">
                      Thanh toán
                    </button>
                    <button routerLink="/" style="height: 30px;  font-size: 14px" class="btn w-100 btn-primary"
                            type="button">
                      Xem thêm tour
                    </button>
                  </div>
                  <div id="paypal" style="margin-top: 10px"></div>
                </div>
              </article>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>
